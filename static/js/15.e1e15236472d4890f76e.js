(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+VTW":function(t,n,e){"use strict";var a=e("QbLZ"),i=e.n(a),s=e("14Xm"),o=e.n(s),r=e("D3Ub"),c=e.n(r),d=e("L2JU"),l=e("MiPH"),p=e("wXDQ"),u=e("MM+K"),v=e("0zfQ"),m=e("tiyS"),f=e("yGlF"),b=e("wd/R"),h=e.n(b),g={name:"UserInfos",components:{InvoiceMiniTag:m.a,QuoteMiniTag:f.a},data:function(){return{userRight:!1,absenceRight:!1,payrollRight:!1,invoiceRight:!1,quoteRight:!1,type:null,logs:[],absenceTypes:[],moment:h.a,moments_from:[{_id:"full",name:"la journée"},{_id:"half-pm",name:"l'après-midi"}],userBirthday:!1}},created:function(){var t=this;return c()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.init();case 1:case"end":return n.stop()}}),n,t)})))()},watch:{user:function(t,n){this.getType(),this.loadLogs(),this.user.birthdate&&(this.userBirthday=this.isBirthDay(new Date,h()(this.user.birthdate).toDate()))},companyStatus:function(t,n){"idle"===t&&this.init()}},computed:i()({},Object(d.b)({company:"getCompany",companyStatus:"getCompanyStatus",currentUser:"getProfile"})),props:{user:{type:Object,default:function(){}}},methods:{init:function(){var t=this;return c()(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.user||!t.currentUser){n.next=13;break}return t.getType(),t.loadLogs(),t.user.birthdate&&(t.userBirthday=t.isBirthDay(new Date,h()(t.user.birthdate).toDate())),n.next=6,t.$store.dispatch(v.e);case 6:e=n.sent,t.absenceTypes=e.data.absence_types,t.userRight=Object(p.c)(t.currentUser.mainPosition,["manageUsers"]),t.invoiceRight=Object(p.c)(t.currentUser.mainPosition,["manageInvoices","seeAllInvoices"]),t.quoteRight=Object(p.c)(t.currentUser.mainPosition,["manageQuotes","seeAllQuotes"]),t.absenceRight=Object(p.c)(t.currentUser.mainPosition,["manageAbsences"])||Object(p.c)(t.currentUser.mainPosition,["manageAbsences","seeAllAbsences","addAbsences"],!0),t.payrollRight=Object(p.c)(t.currentUser.mainPosition,["seeAllPayrolls","managePayrolls"]);case 13:case"end":return n.stop()}}),n,t)})))()},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=/\D/g,e=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,a="$1 $2 $3 $4 $5";if(t.replace)return t?t.replace(n,"").replace(e,a):""},getType:function(){var t=this;this.user&&this.user.mainPosition&&this.user.mainPosition.type&&"admin"!==this.user.mainPosition.type?this.user.mainPosition.type.length>23&&this.$store.dispatch(l.d,this.user.mainPosition.type).then((function(n){n.data.type&&(t.type=n.data.type)})):"admin"===this.user.mainPosition.type&&(this.type={name:"Administrateur"})},loadLogs:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return c()(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch(u.d,{user:t.user._id,company:t.company._id,limit:e,skip:n});case 2:t.logs=a.sent;case 3:case"end":return a.stop()}}),a,t)})))()},getAbsenceType:function(t){var n=this.absenceTypes.find((function(n){return n._id===t}));return n?n.name:""},isBirthDay:function(t,n){return t.getDate()+"/"+t.getMonth()==n.getDate()+"/"+n.getMonth()}}},x=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"user-infos container-fluid"},[t.userBirthday?a("div",{staticClass:"row alert birthday-alert"},[a("img",{attrs:{src:"/static/wuro-bot.svg",alt:"wuro-bot",width:"36"}}),t._v("\n    C'est l'anniversaire de "+t._s(t.user.first_name)+" aujourd'hui !\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 mb-3 user d-flex",class:{birthday:t.userBirthday}},[a("div",{staticClass:"row w-100 align-items-center"},[a("div",{staticClass:"avatar col-4 col-sm-3 text-center"},[a("p",{staticClass:"rounded-circle avatar-container m-auto",staticStyle:{height:"80px",width:"80px"}},[t.user.avatar?a("img",{staticClass:"user-avatar img-fluid",attrs:{src:t.user.avatar}}):a("img",{staticClass:"user-avatar img-fluid",attrs:{src:e("SDto")}})])]),t._v(" "),a("div",{staticClass:"col-8 col-sm-9 details"},[a("p",{staticClass:"black-subtitle mb-0"},[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),t._v(" "),t.userRight&&t.type?a("p",{staticClass:"mb-1 wuro-link",on:{click:function(n){return t.$router.push("params/rights-types/update/"+t.type._id)}}},[t._v(t._s(t.type.name))]):t._e(),t._v(" "),t.user.mainPosition?a("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.user.mainPosition,expression:"user.mainPosition"}],staticClass:"mb-0"},[t._v(t._s(t.user.mainPosition.name))]):t._e()])])]),t._v(" "),a("div",{staticClass:"col-lg-5 mb-3 user d-flex align-items-center"},[a("button",{staticClass:"btn btn-default go-to-user",on:{click:function(n){return t.$router.push("/user/"+t.user._id)}}},[a("i",{staticClass:"icon ion-md-person"}),t._v("Voir la fiche utilisateur\n      ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 mb-3 contact p-4 d-flex align-items-center"},[a("b-row",{staticClass:"h-100 w-100"},[a("div",{staticClass:"col-lg-8"},[a("p",{staticClass:"uppercase-title"},[t._v("Contact")]),t._v(" "),t.user.phone?a("div",{staticClass:"wuro-link"},["object"==typeof t.user.phone&&t.user.phone.number?a("span",[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),a("a",{attrs:{href:"tel:"+t.user.phone.number}},[t._v(t._s(t.user.phone.number))])]):t._e(),t._v(" "),"object"!=typeof t.user.phone?a("span",[a("a",{attrs:{href:"tel:"+t.user.phone}},[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),t._v(t._s(t.format(t.user.phone)))])]):t._e()]):t._e(),t._v(" "),t.user.mainPosition?a("div",{attrs:{set:t.pos=t.user.mainPosition}},[t.pos.phone&&t.pos.phone.number?a("div",{staticClass:"wuro-link"},[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),a("a",{attrs:{href:"tel:"+t.pos.phone.number}},[t._v(t._s(t.format(t.pos.phone.number)))])]):t._e(),t._v(" "),t.pos.personal_phone_fixe?a("div",{staticClass:"wuro-link"},[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),a("a",{attrs:{href:"tel:"+t.pos.personal_phone_fixe}},[t._v(t._s(t.format(t.pos.personal_phone_fixe)))])]):t._e(),t._v(" "),t.pos.professional_phone?a("div",{staticClass:"wuro-link"},[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),a("a",{attrs:{href:"tel:"+t.pos.professional_phone}},[t._v(t._s(t.format(t.pos.professional_phone)))])]):t._e(),t._v(" "),t.pos.professional_phone_fixe?a("div",{staticClass:"wuro-link"},[a("i",{staticClass:"icon subtitles ion-ios-phone-portrait"}),a("a",{attrs:{href:"tel:"+t.pos.professional_phone_fixe}},[t._v(t._s(t.format(t.pos.professional_phone_fixe)))])]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"email"},[t.user.email?a("div",{staticClass:"wuro-link email"},[a("i",{staticClass:"icon subtitles ion-ios-mail"}),a("a",{attrs:{href:"mailto:"+t.user.email}},[t._v(t._s(t.user.email))])]):t._e()])]),t._v(" "),a("div",{staticClass:"col-sm-4 d-none d-lg-flex align-items-center envelop-container"},[a("p",{staticClass:"mb-0"},[a("img",{attrs:{src:"/static/envelop.svg",alt:"Enveloppe"}})])])])],1),t._v(" "),a("div",{staticClass:"col-lg-5 mb-3 btn-panel"},[t.userRight?a("button",{staticClass:"btn btn-default",on:{click:function(n){return t.$router.push("/params/user/"+t.user._id)}}},[a("i",{staticClass:"icon ion-md-lock"}),t._v("Gérer les droits")]):t._e(),t._v(" "),t.payrollRight?a("button",{staticClass:"btn btn-default",on:{click:function(n){return t.$router.push("/payrolls/add")}}},[a("i",{staticClass:"icon ion-md-wallet"}),t._v("Consulter le coffre-fort")]):t._e(),t._v(" "),t.absenceRight?a("button",{staticClass:"btn btn-default",on:{click:function(n){return t.$router.push("/absences/list?user="+t.user._id)}}},[a("i",{staticClass:"icon ion-md-calendar"}),t._v("Gérer les demandes d'absence")]):t._e(),t._v(" "),t.absenceRight||t.payrollRight?t._e():a("img",{staticClass:"placeholder-actions d-none d-lg-block",attrs:{src:"/static/illu-infos-contact-user.png.svg"}})])]),t._v(" "),a("div",{staticClass:"row mt-3 last-actions"},[a("header",{staticClass:"uppercase-title"},[t._v("Dernières actions")]),t._v(" "),a("div",{staticClass:"logs col-md-12"},[t._l(t.logs,(function(n){return[t.invoiceRight&&n.params.body._id&&"invoice"===n.request.split("/")[1]?a("div",{staticClass:"log row"},[t._m(0,!0),t._v(" "),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"date"},[t._v(t._s(t.moment(n.createdAt).format("[Le] DD/MM/YYYY [à] HH:mm"))+" - "+t._s(t.user.first_name)+" a mis à jour une facture")]),t._v(" "),a("InvoiceMiniTag",{attrs:{"invoice-id":n.params.body._id,update:n.update,light:!0}})],1)]):t._e(),t._v(" "),t.quoteRight&&n.params.body._id&&"quote"===n.request.split("/")[1]?a("div",{staticClass:"log row"},[t._m(1,!0),t._v(" "),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"date"},[t._v(t._s(t.moment(n.createdAt).format("[Le] DD/MM/YYYY [à] HH:mm"))+" - "+t._s(t.user.first_name)+" a mis à jour un devis")]),t._v(" "),a("QuoteMiniTag",{attrs:{"quote-id":n.params.body._id,update:n.update,light:!0}})],1)]):t._e(),t._v(" "),t.absenceRight&&"absence"===n.request.split("/")[1]&&"POST"===n.method?a("div",{staticClass:"log row",on:{click:function(n){return t.$router.push("/absences/list")}}},[t._m(2,!0),t._v(" "),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"date"},[t._v(t._s(t.moment(n.createdAt).format("[Le] DD/MM/YYYY [à] HH:mm"))+" - "+t._s(t.user.first_name)+" a effectué une demande d'absence")]),t._v(" "),a("div",{staticClass:"subtitle"},[t._v("Demande d'absence")]),t._v("\n            "+t._s(t.getAbsenceType(n.params.body.type))+" le "+t._s(t.moment(n.params.body.from).format("DD/MM/YYYY"))+" "),n.params.body.to!==n.params.body.from?[t._v(" - "+t._s(t.moment(n.params.body.to).format("DD/MM/YYYY")))]:t._e()],2)]):t._e()]}))],2)])])};x._withStripped=!0;var _=e("JFUb");var y=function(t){e("hgWk")},w=Object(_.a)(g,x,[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"col-md-2"},[n("img",{attrs:{src:"/static/factures.svg",width:"80"}})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"col-md-2"},[n("img",{attrs:{src:"/static/devis.svg",width:"80"}})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"col-md-2"},[n("img",{attrs:{src:"/static/absences.svg",width:"80"}})])}],!1,y,"data-v-9a456324",null);w.options.__file="src/features/common/user-infos.vue";n.a=w.exports},"4Hy1":function(t,n,e){var a=e("eicE");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("SZ7m")("138deb38",a,!1,{})},"7krq":function(t,n,e){var a=e("YGS1");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("SZ7m")("9467ab54",a,!1,{})},Nwca:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,'\n.birthday-alert[data-v-9a456324] {\n  background: url(/static/confettis-bg.svg);\n  background-size: contain;\n  background-color: #fff7e8;\n  color: #cd8e32;\n  padding: 12px;\n  border-radius: 15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 20px;\n}\n.birthday-alert > img[data-v-9a456324] {\n  margin-right: 17px;\n}\n.user.birthday[data-v-9a456324]::before {\n  background: url(/static/gateau-bougie.svg) no-repeat;\n  content: "";\n  background-size: contain;\n  width: 70px;\n  position: absolute;\n  bottom: 0px;\n  z-index: 8;\n  height: 70px;\n  left: 0;\n}\n.user.birthday .avatar[data-v-9a456324] {\n  background: url(/static/confetti.svg);\n  background-size: contain;\n  background-size: 20%;\n}\n.btn-panel .btn[data-v-9a456324] {\n  width: 100%;\n  font-weight: normal;\n  border-width: 1px;\n  border-radius: 0px;\n  border-color: #EEE;\n  text-align: left;\n}\n.btn-panel .btn > .icon[data-v-9a456324] {\n  font-size: 1.3em !important;\n  margin-right: 10px;\n}\n.profile[data-v-9a456324] {\n  margin: 20px 0;\n  margin-top: 3em;\n}\n.card[data-v-9a456324] {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background: #fff!important;\n  background-clip: border-box;\n  border: 1px solid rgba(0,0,0,.125);\n  border-radius: .25rem;\n  border: none!important;\n  padding: 20px 30px;\n  border-radius: 30px!important;\n  min-height: 130px;\n  margin-bottom: 20px;\n  -webkit-box-shadow: 0px 0px 20px 4px rgb(67 65 104 / 6%);\n  box-shadow: 0px 0px 20px 4px rgb(67 65 104 / 6%);\n}\n.profile .icon[data-v-9a456324] {\n  font-size: 1.3em;\n  margin-right: 8px;\n}\n.profile a[data-v-9a456324] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.go-to-user[data-v-9a456324] {\n  font-weight: normal;\n  border-width: 1px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.go-to-user .icon[data-v-9a456324] {\n  font-size: 1.3em;\n  margin-right: 10px;\n}\n.contact[data-v-9a456324] {\n  border-radius: 12px;\n  background: url(/static/bg-user-contact-vegetal.svg) no-repeat, url(/static/bg-info-contact-user.svg) no-repeat;\n  background-size: auto 100%, cover;\n  background-position: bottom right -20px, center;\n}\n.contact h5[data-v-9a456324] {\n  text-transform: uppercase;\n  font-size:1.1em;\n}\n.wuro-link[data-v-9a456324] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.wuro-link > div[data-v-9a456324] {\n  width: 100%;\n}\n.wuro-link .icon[data-v-9a456324] {\n  font-size: 1.1em;\n  margin-right: 5px;\n}\n.placeholder-actions[data-v-9a456324] {\n  width: 100%;\n  padding: 10px 50px;\n}\n.row.last-actions header[data-v-9a456324] {\n  width: 100%;\n  padding: 20px 20px;\n  background: #f9fcff;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.row.last-actions .log[data-v-9a456324] {\n  cursor: pointer;\n  padding: 10px;\n  border: 1px solid #DDD;\n  border-top: 0;\n}\n.row.last-actions .log[data-v-9a456324]:first-child {\n  border-top: 1px solid #DDD;\n}\n.row.last-actions .log .date[data-v-9a456324] {\n  font-size: 0.85em;\n  color: #999;\n}\n.row.last-actions .log .subtitle[data-v-9a456324] {\n  color: #212529;\n  font-weight: bold;\n  padding: 0;\n  font-size: 15px;\n}\n.user-infos .btn-panel .btn[data-v-9a456324]:first-child{\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n}\n.user-infos .btn-panel .btn[data-v-9a456324]:last-child {\n  border-bottom-left-radius: 12px;\n  border-bottom-right-radius: 12px;\n}\n.user-infos .btn-panel .btn[data-v-9a456324]:not(:last-child):not(:first-child) {\n  border-top: none;\n  border-bottom: none;\n}\n@media (max-width: 991px){\n.user-infos .btn-panel[data-v-9a456324]{\n    padding-left: 0;\n    padding-right: 0;\n}\n}\n\n\n',""])},YGS1:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,'\n.card[data-v-64f5266f] {\n  background-color: #fff;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n  box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n  color: rgba(0,0,0,.87);\n  margin: 8px 0;\n  padding: 20px 26px;\n  min-width: 310px;\n  width: auto;\n  max-width: 410px;\n  position: relative;\n  overflow: hidden;\n}\n.card[data-v-64f5266f]::after {\n  clear: both;\n}\n.card[data-v-64f5266f]::after, .card[data-v-64f5266f]::before {\n  content: "";\n  display: block;\n}\n.light .primary-text[data-v-64f5266f] {\n  font-weight: bold;\n}\n.card .primary-text[data-v-64f5266f] {\n  font-size: 19px;\n  text-transform: lowercase;\n}\n.card .primary-text[data-v-64f5266f]::first-letter {\n  text-transform: uppercase;\n}\n.card .secondary-text[data-v-64f5266f] {\n  color: rgba(0,0,0,.54);\n  font-size: 14px;\n}\n.card .supporting-text[data-v-64f5266f] {\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 11px 0;\n}\n.card .actions .action-buttons > button[data-v-64f5266f] {\n  border: none;\n  border-radius: 2px;\n  color: inherit;\n  cursor: pointer;\n  display: inline-block;\n  font-family: Roboto, sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.75px;\n  line-height: 36px;\n  min-width: 64px;\n  padding: 0 8px;\n  text-align: center;\n  text-transform: uppercase;\n}\n.card .actions .action-buttons > button[data-v-64f5266f]:active, .card .actions .action-buttons > button[data-v-64f5266f]:hover {\n  background-color: rgba(158,158,158,0.4);\n}\n\n',""])},eicE:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,'\n.card[data-v-3378a780] {\n  background-color: #fff;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n  box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n  color: rgba(0,0,0,.87);\n  margin: 8px 0;\n  padding: 20px 26px;\n  min-width: 310px;\n  width: auto;\n  max-width: 410px;\n  position: relative;\n  overflow: hidden;\n}\n.card[data-v-3378a780]::after {\n  clear: both;\n}\n.card[data-v-3378a780]::after, .card[data-v-3378a780]::before {\n  content: "";\n  display: block;\n}\n.card .primary-text[data-v-3378a780] {\n  font-size: 19px;\n  text-transform: lowercase;\n}\n.card .primary-text[data-v-3378a780]::first-letter {\n  text-transform: uppercase;\n}\n.card .secondary-text[data-v-3378a780] {\n  color: rgba(0,0,0,.54);\n  font-size: 14px;\n}\n.card .supporting-text[data-v-3378a780] {\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 11px 0;\n}\n.card .actions .action-buttons > button[data-v-3378a780] {\n  border: none;\n  border-radius: 2px;\n  color: inherit;\n  cursor: pointer;\n  display: inline-block;\n  font-family: Roboto, sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.75px;\n  line-height: 36px;\n  min-width: 64px;\n  padding: 0 8px;\n  text-align: center;\n  text-transform: uppercase;\n}\n.card .actions .action-buttons > button[data-v-3378a780]:active, .card .actions .action-buttons > button[data-v-3378a780]:hover {\n  background-color: rgba(158,158,158,0.4);\n}\n\n',""])},hgWk:function(t,n,e){var a=e("Nwca");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("SZ7m")("88cabf86",a,!1,{})},tiyS:function(t,n,e){"use strict";var a=e("14Xm"),i=e.n(a),s=e("D3Ub"),o=e.n(s),r=e("Kqdw"),c={name:"InvoiceMiniTag",props:{invoiceId:{type:String,required:!0},update:{type:String},light:{type:Boolean,default:!1}},data:function(){return{invoice:{}}},created:function(){this.loadInvoice(this.invoiceId)},methods:{loadInvoice:function(){var t=this;return o()(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.invoiceId){n.next=4;break}return n.next=3,t.$store.dispatch(r.q,t.invoiceId);case 3:t.invoice=n.sent;case 4:case"end":return n.stop()}}),n,t)})))()},goToInvoice:function(){this.$router.push("invoice/html/"+this.invoiceId)}}},d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"invoice-mini-tag",class:{light:t.light},on:{click:t.goToInvoice}},[e("div",[e("div",{class:{card:!t.light}},[t.invoice._id?e("div",[e("div",{staticClass:"primary-title"},[e("div",{staticClass:"primary-text"},[t._v(t._s(t.invoice.name)+" "),t.invoice.number?[t._v("N°"+t._s(t.invoice.number))]:t._e()],2),t._v(" "),e("div",{staticClass:"secondary-text"},[t._v(t._s(t.invoice.title))])]),t._v(" "),e("div",{staticClass:"supporting-text"},[t._v("\n          "+t._s(t.invoice.total_ttc)+"€ TTC pour le client "+t._s(t.invoice.client_name)+"\n          "),t.update?e("div",[t._v('Le document a été passé au statut "'+t._s(t.$t("contact.activity."+t.update))+'"')]):t._e()]),t._v(" "),t.light?t._e():e("div",{staticClass:"actions"},[e("div",{staticClass:"action-buttons"},[e("button",{staticClass:"button",attrs:{type:"button"}},[t._v("Voir la facture")])])])]):e("loading")],1)])])};d._withStripped=!0;var l=e("JFUb");var p=function(t){e("7krq")},u=Object(l.a)(c,d,[],!1,p,"data-v-64f5266f",null);u.options.__file="src/features/common/invoice-mini-tag.vue";n.a=u.exports},yGlF:function(t,n,e){"use strict";var a=e("14Xm"),i=e.n(a),s=e("D3Ub"),o=e.n(s),r=e("NXyG"),c={name:"QuoteMiniTag",props:{quoteId:{type:String,required:!0},update:{type:String},light:{type:Boolean,default:!1}},data:function(){return{quote:{}}},created:function(){this.loadQuote(this.quoteId)},methods:{loadQuote:function(){var t=this;return o()(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.quoteId){n.next=4;break}return n.next=3,t.$store.dispatch(r.m,t.quoteId);case 3:t.quote=n.sent;case 4:case"end":return n.stop()}}),n,t)})))()},goToQuote:function(){this.$router.push("quote/html/"+this.quoteId)}}},d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"quote-mini-tag",class:{light:t.light},on:{click:t.goToQuote}},[e("div",[e("div",{class:{card:!t.light}},[t.quote._id?e("div",[e("div",{staticClass:"primary-title"},[e("div",{staticClass:"primary-text"},[t._v(t._s(t.quote.name)+" "),t.quote.number?[t._v("N°"+t._s(t.quote.number))]:t._e()],2),t._v(" "),e("div",{staticClass:"secondary-text"},[t._v(t._s(t.quote.title))])]),t._v(" "),e("div",{staticClass:"supporting-text"},[t._v("\n          "+t._s(t.quote.total_ttc)+"€ TTC pour le client "+t._s(t.quote.client_name)+"\n          "),t.update?e("div",[t._v('Le document a été passé au statut "'+t._s(t.$t("contact.activity."+t.update))+'"')]):t._e()]),t._v(" "),t.light?t._e():e("div",{staticClass:"actions"},[e("div",{staticClass:"action-buttons"},[e("button",{staticClass:"button",attrs:{type:"button"}},[t._v("Voir le devis")])])])]):e("loading")],1)])])};d._withStripped=!0;var l=e("JFUb");var p=function(t){e("4Hy1")},u=Object(l.a)(c,d,[],!1,p,"data-v-3378a780",null);u.options.__file="src/features/common/quote-mini-tag.vue";n.a=u.exports}}]);